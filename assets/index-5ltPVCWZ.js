import{a6 as Se,r as Oe}from"./index-DlGxA0AR.js";var Y={};(function(A){Object.defineProperty(A,"__esModule",{value:!0}),A.default=void 0;var O=ee(Oe),Z=["placeholder","separator","isLastChild","ariaLabelOverride","shouldRender","inputStyle","focus","isDisabled","hasErrored","errorStyle","isSuccessed","successStyle","focusStyle","disabledStyle","shouldAutoFocus","isInputNum","index","value","className","isInputSecure","onSubmit"];function T(t){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(T=function(n){return n?o:a})(t)}function ee(t,a){if(!a&&t&&t.__esModule)return t;if(t===null||P(t)!=="object"&&typeof t!="function")return{default:t};var o=T(a);if(o&&o.has(t))return o.get(t);var e={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)){var s=n?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,o&&o.set(t,e),e}function D(){return D=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(t[e]=o[e])}return t},D.apply(this,arguments)}function te(t,a){if(t==null)return{};var o=re(t,a),e,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)e=i[n],!(a.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}function re(t,a){if(t==null)return{};var o={},e=Object.keys(t),n,i;for(i=0;i<e.length;i++)n=e[i],!(a.indexOf(n)>=0)&&(o[n]=t[n]);return o}function V(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function W(t,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function B(t,a,o){return a&&W(t.prototype,a),o&&W(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function M(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&N(t,a)}function N(t,a){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},N(t,a)}function $(t){var a=ae();return function(){var e=C(t),n;if(a){var i=C(this).constructor;n=Reflect.construct(e,arguments,i)}else n=e.apply(this,arguments);return ne(this,n)}}function ne(t,a){if(a&&(P(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}function c(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},C(t)}function p(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}function P(t){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},P(t)}var ue=8,oe=37,ie=39,se=46,le=32,ce=13,b=function(a){return P(a)==="object"},pe=function(t){M(o,t);var a=$(o);function o(e){var n;return V(this,o),n=a.call(this,e),p(c(n),"getClasses",function(){for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return s.filter(function(u){return!b(u)&&u!==!1}).join(" ")}),p(c(n),"getType",function(){var i=n.props,s=i.isInputSecure,r=i.isInputNum;return s?"password":r?"tel":"text"}),p(c(n),"getAriaLabel",function(i,s){var r=n.props.ariaLabelOverride;return r||"".concat(i===0?"Please enter verification code. ":"").concat(s?"Digit":"Character"," ").concat(i+1)}),n.input=O.default.createRef(),n}return B(o,[{key:"componentDidMount",value:function(){var n=this.props,i=n.focus,s=n.shouldAutoFocus,r=this.input.current;r&&i&&s&&r.focus()}},{key:"componentDidUpdate",value:function(n){var i=this.props.focus,s=this.input.current;n.focus!==i&&s&&i&&(s.focus(),s.select())}},{key:"render",value:function(){var n=this.props,i=n.placeholder,s=n.separator,r=n.isLastChild;n.ariaLabelOverride;var u=n.shouldRender,l=n.inputStyle,v=n.focus,g=n.isDisabled,h=n.hasErrored,f=n.errorStyle,y=n.isSuccessed,I=n.successStyle,S=n.focusStyle,m=n.disabledStyle;n.shouldAutoFocus;var E=n.isInputNum,R=n.index,w=n.value,x=n.className;n.isInputSecure,n.onSubmit;var j=te(n,Z);return O.default.createElement("div",{className:x,style:{display:"flex",alignItems:"center"}},O.default.createElement("input",D({"aria-label":this.getAriaLabel(R,E),style:Object.assign({width:"1em",textAlign:"center",padding:0},b(l)&&l,v&&b(S)&&S,g&&b(m)&&m,h&&!y&&b(f)&&f,y&&!h&&b(I)&&I),placeholder:i,className:this.getClasses(l,v&&S,g&&m,h&&!y&&f,y&&!h&&I),type:this.getType(),ref:this.input,disabled:g,value:w||""},j)),!r&&u&&s)}}]),o}(O.PureComponent),q=function(t){M(o,t);var a=$(o);function o(){var e;V(this,o);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=a.call.apply(a,[this].concat(i)),p(c(e),"state",{activeInput:0}),p(c(e),"getOtpValue",function(){return e.props.value?e.props.value.toString().split(""):[]}),p(c(e),"getPlaceholderValue",function(){var r=e.props,u=r.placeholder,l=r.numInputs;if(typeof u=="string"){if(u.length===l)return u;u.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}}),p(c(e),"handleOtpChange",function(r){var u=e.props.onChange,l=r.join("");u(l)}),p(c(e),"isInputValueValid",function(r){var u=e.props.isInputNum?!isNaN(parseInt(r,10)):typeof r=="string";return u&&r.trim().length===1}),p(c(e),"focusInput",function(r){var u=e.props.numInputs,l=Math.max(Math.min(u-1,r),0);e.setState({activeInput:l})}),p(c(e),"focusNextInput",function(){var r=e.state.activeInput;e.focusInput(r+1)}),p(c(e),"focusPrevInput",function(){var r=e.state.activeInput;e.focusInput(r-1)}),p(c(e),"changeCodeAtFocus",function(r){var u=e.state.activeInput,l=e.getOtpValue();l[u]=r[0],e.handleOtpChange(l)}),p(c(e),"handleOnPaste",function(r){r.preventDefault();var u=e.state.activeInput,l=e.props,v=l.numInputs,g=l.isDisabled;if(!g){for(var h=e.getOtpValue(),f=u,y=r.clipboardData.getData("text/plain"),I=e.props.isInputNum?y.replace(/\D/g,""):y,S=I.slice(0,v-u).split(""),m=0;m<v;++m)m>=u&&S.length>0&&(h[m]=S.shift(),f++);e.setState({activeInput:f},function(){e.focusInput(f),e.handleOtpChange(h)})}}),p(c(e),"handleOnChange",function(r){var u=r.target.value;e.isInputValueValid(u)&&e.changeCodeAtFocus(u)}),p(c(e),"handleOnKeyDown",function(r){r.keyCode===ue||r.key==="Backspace"?(r.preventDefault(),e.changeCodeAtFocus(""),e.focusInput(e.state.activeInput-1)):r.keyCode===se||r.key==="Delete"?(r.preventDefault(),e.changeCodeAtFocus("")):r.keyCode===oe||r.key==="ArrowLeft"?(r.preventDefault(),e.focusPrevInput()):r.keyCode===ie||r.key==="ArrowRight"?(r.preventDefault(),e.focusNextInput()):r.keyCode===le||r.key===" "||r.key==="Spacebar"||r.key==="Space"?r.preventDefault():(r.keyCode===ce||r.key==="Enter")&&e.props.onSubmit()}),p(c(e),"handleOnInput",function(r){var u=r.target.value;if(r.target.value){if(r.target.value&&r.target.value.length>1){r.preventDefault();for(var l=e.props.numInputs,v=e.state.activeInput,g=e.getOtpValue(),h=r.target.value.slice(0,l-v).split(""),f=0;f<l;++f)f>=v&&h.length>0&&(g[f]=h.shift());e.handleOtpChange(g),e.focusInput(e.props.numInputs)}else if(u&&u.trim().length>1)r.clipboardData={getData:function(){return u.trim()}},e.handleOnPaste(r);else if(e.isInputValueValid(r.target.value))e.focusNextInput();else if(!e.props.isInputNum){var y=r.nativeEvent;y.data===null&&y.inputType==="deleteContentBackward"&&(r.preventDefault(),e.changeCodeAtFocus(""),e.focusPrevInput())}}}),p(c(e),"renderInputs",function(){for(var r=e.state.activeInput,u=e.props,l=u.id,v=u.autoComplete,g=u.numInputs,h=u.inputStyle,f=u.focusStyle,y=u.separator,I=u.separateAfter,S=I===void 0?1:I,m=u.isDisabled,E=u.disabledStyle,R=u.hasErrored,w=u.errorStyle,x=u.isSuccessed,j=u.successStyle,de=u.shouldAutoFocus,ve=u.isInputNum,he=u.isInputSecure,ye=u.className,_=u.inputProps,ge=u.onSubmit,K=[],U=e.getOtpValue(),z=e.getPlaceholderValue(),G=e.props["data-cy"],H=e.props["data-testid"],J=e.props["custom-test-attr"],Q=e.props["custom-test-id"],me=function(d){var k=void 0;(d+1)%parseInt(S)===0?k=!0:k=!1;var X={};J&&(X[J]=Q&&"".concat(Q,"-").concat(d));var L={};_&&(Array.isArray(_)?_[d]&&(L=_[d]):L=_),K.push(O.default.createElement(pe,D({id:l&&"".concat(l,"-").concat(d),autoComplete:v??"off",placeholder:z&&z[d],key:d,index:d,focus:r===d,value:U&&U[d],onChange:e.handleOnChange,onKeyDown:e.handleOnKeyDown,onInput:e.handleOnInput,onPaste:e.handleOnPaste,onFocus:function(be){e.setState({activeInput:d}),be.target.select()},onBlur:function(){return e.setState({activeInput:-1})},separator:y,inputStyle:h,focusStyle:f,isLastChild:d===g-1,isDisabled:m,disabledStyle:E,hasErrored:R,errorStyle:w,isSuccessed:x,successStyle:j,shouldAutoFocus:de,isInputNum:ve,isInputSecure:he,className:ye,"data-cy":G&&"".concat(G,"-").concat(d),"data-testid":H&&"".concat(H,"-").concat(d),shouldRender:k,onSubmit:ge},L,X)))},F=0;F<g;F++)me(F);return K}),e}return B(o,[{key:"componentDidUpdate",value:function(){var n=this.props.value,i=this.state.activeInput;n==""&&i>0&&this.setState({activeInput:0})}},{key:"render",value:function(){var n=this.props.containerStyle;return O.default.createElement("div",{style:Object.assign({display:"flex"},b(n)&&n),className:b(n)?"":n},this.renderInputs())}}]),o}(O.Component);p(q,"defaultProps",{numInputs:4,onChange:function(a){return console.log(a)},isDisabled:!1,shouldAutoFocus:!1,value:"",isInputSecure:!1,onSubmit:function(a){return console.log(a)}});var fe=q;A.default=fe})(Y);const De=Se(Y);export{De as O};
