import{g as p,h as x,j as e,o as f,G as t,S as j,aV as g,a as b,bw as v,m as k}from"./index-DlGxA0AR.js";import{F as y,c as F,a as w}from"./formik.esm-Dp9SPN8J.js";import{u as A}from"./useScriptRef-CHRCS9U9.js";import{I as E}from"./InputLabel-CAS4qYAm.js";import{F as n}from"./FormHelperText-BjerNUfA.js";function T(){const m=A(),c=p(),{isLoggedIn:u,resetPassword:d}=x();return e.jsx(e.Fragment,{children:e.jsx(y,{initialValues:{email:"",submit:null},validationSchema:F().shape({email:w().email("Must be a valid email").max(255).required("Email is required")}),onSubmit:async(a,{setErrors:l,setStatus:i,setSubmitting:r})=>{try{await d(a.email).then(()=>{i({success:!0}),r(!1),f({open:!0,message:"Check mail for reset password link",variant:"alert",alert:{color:"success"}}),setTimeout(()=>{c(u?"/auth/check-mail":"/check-mail",{replace:!0})},1500)},s=>{i({success:!1}),l({submit:s.message}),r(!1)})}catch(s){console.error(s),m.current&&(i({success:!1}),l({submit:s.message}),r(!1))}},children:({errors:a,handleBlur:l,handleChange:i,handleSubmit:r,isSubmitting:s,touched:o,values:h})=>e.jsx("form",{noValidate:!0,onSubmit:r,children:e.jsxs(t,{container:!0,spacing:3,children:[e.jsxs(t,{item:!0,xs:12,children:[e.jsxs(j,{spacing:1,children:[e.jsx(E,{htmlFor:"email-forgot",children:"Email Address"}),e.jsx(g,{fullWidth:!0,error:!!(o.email&&a.email),id:"email-forgot",type:"email",value:h.email,name:"email",onBlur:l,onChange:i,placeholder:"Enter email address",inputProps:{}})]}),o.email&&a.email&&e.jsx(n,{error:!0,id:"helper-text-email-forgot",children:a.email})]}),a.submit&&e.jsx(t,{item:!0,xs:12,children:e.jsx(n,{error:!0,children:a.submit})}),e.jsx(t,{item:!0,xs:12,sx:{mb:-2},children:e.jsx(b,{variant:"caption",children:"Do not forgot to check SPAM box."})}),e.jsx(t,{item:!0,xs:12,children:e.jsx(v,{children:e.jsx(k,{disableElevation:!0,disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Send Password Reset Email"})})})]})})})})}export{T as A};
