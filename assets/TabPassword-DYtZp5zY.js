import{r as g,j as s,M as $,o as V,G as a,S as w,aV as y,bl as P,I as C,B as G,a as U,w as Z,x as d,a9 as t,d as c,y as l,m as E}from"./index-DlGxA0AR.js";import{m as M,M as p,i as N,a as O,b as F,c as L}from"./password-validation-DvRJrMvC.js";import{F as H,c as R,a as b}from"./formik.esm-Dp9SPN8J.js";import{I as S}from"./InputLabel-CAS4qYAm.js";import{E as k}from"./Eye-BA6JAuf4.js";import{E as A}from"./EyeSlash-C0BeFnwk.js";import{F as I}from"./FormHelperText-BjerNUfA.js";function ss(){const[h,q]=g.useState(!1),[j,v]=g.useState(!1),[u,z]=g.useState(!1),B=()=>{q(!h)},D=()=>{v(!j)},T=()=>{z(!u)},f=e=>{e.preventDefault()};return s.jsx($,{title:"Change Password",children:s.jsx(H,{initialValues:{old:"",password:"",confirm:"",submit:null},validationSchema:R().shape({old:b().required("Old Password is required"),password:b().required("New Password is required").matches(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Password must contain at least 8 characters, one uppercase, one number and one special case character"),confirm:b().required("Confirm Password is required").test("confirm","Passwords don't match.",(e,o)=>o.parent.password===e)}),onSubmit:async(e,{resetForm:o,setErrors:i,setStatus:m,setSubmitting:x})=>{try{V({open:!0,message:"Password changed successfully.",variant:"alert",alert:{color:"success"}}),o(),m({success:!1}),x(!1)}catch(n){m({success:!1}),i({submit:n.message}),x(!1)}},children:({errors:e,handleBlur:o,handleChange:i,handleSubmit:m,isSubmitting:x,touched:n,values:r})=>s.jsx("form",{noValidate:!0,onSubmit:m,children:s.jsxs(a,{container:!0,spacing:3,children:[s.jsxs(a,{item:!0,container:!0,spacing:3,xs:12,sm:6,children:[s.jsxs(a,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(S,{htmlFor:"password-old",children:"Old Password"}),s.jsx(y,{id:"password-old",placeholder:"Enter Old Password",type:h?"text":"password",value:r.old,name:"old",onBlur:o,onChange:i,endAdornment:s.jsx(P,{position:"end",children:s.jsx(C,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:h?s.jsx(k,{}):s.jsx(A,{})})}),autoComplete:"password-old"})]}),n.old&&e.old&&s.jsx(I,{error:!0,id:"password-old-helper",children:e.old})]}),s.jsxs(a,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(S,{htmlFor:"password-password",children:"New Password"}),s.jsx(y,{id:"password-password",placeholder:"Enter New Password",type:j?"text":"password",value:r.password,name:"password",onBlur:o,onChange:i,endAdornment:s.jsx(P,{position:"end",children:s.jsx(C,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:j?s.jsx(k,{}):s.jsx(A,{})})}),autoComplete:"password-password"})]}),n.password&&e.password&&s.jsx(I,{error:!0,id:"password-password-helper",children:e.password})]}),s.jsxs(a,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(S,{htmlFor:"password-confirm",children:"Confirm Password"}),s.jsx(y,{id:"password-confirm",placeholder:"Enter Confirm Password",type:u?"text":"password",value:r.confirm,name:"confirm",onBlur:o,onChange:i,endAdornment:s.jsx(P,{position:"end",children:s.jsx(C,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:u?s.jsx(k,{}):s.jsx(A,{})})}),autoComplete:"password-confirm"})]}),n.confirm&&e.confirm&&s.jsx(I,{error:!0,id:"password-confirm-helper",children:e.confirm})]})]}),s.jsx(a,{item:!0,xs:12,sm:6,children:s.jsxs(G,{sx:{p:{xs:0,sm:2,md:4,lg:5}},children:[s.jsx(U,{variant:"h5",children:"New Password must contain:"}),s.jsxs(Z,{sx:{p:0,mt:1},children:[s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:M(r.password)?"success.main":"inherit"},children:M(r.password)?s.jsx(c,{}):s.jsx(p,{})}),s.jsx(l,{primary:"At least 8 characters"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:N(r.password)?"success.main":"inherit"},children:N(r.password)?s.jsx(c,{}):s.jsx(p,{})}),s.jsx(l,{primary:"At least 1 lower letter (a-z)"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:O(r.password)?"success.main":"inherit"},children:O(r.password)?s.jsx(c,{}):s.jsx(p,{})}),s.jsx(l,{primary:"At least 1 uppercase letter (A-Z)"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:F(r.password)?"success.main":"inherit"},children:F(r.password)?s.jsx(c,{}):s.jsx(p,{})}),s.jsx(l,{primary:"At least 1 number (0-9)"})]}),s.jsxs(d,{children:[s.jsx(t,{sx:{color:L(r.password)?"success.main":"inherit"},children:L(r.password)?s.jsx(c,{}):s.jsx(p,{})}),s.jsx(l,{primary:"At least 1 special characters"})]})]})]})}),s.jsx(a,{item:!0,xs:12,children:s.jsxs(w,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[s.jsx(E,{variant:"outlined",color:"secondary",children:"Cancel"}),s.jsx(E,{disabled:x||Object.keys(e).length!==0,type:"submit",variant:"contained",children:"Update Profile"})]})})]})})})})}export{ss as default};
