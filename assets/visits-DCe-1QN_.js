import{E as l,H as c,J as o,K as r}from"./index-DlGxA0AR.js";const a={key:"/v1/Visits",list:s=>`/v1/Visits?companyId=${s}`,single:s=>`/v1/Visits/${s}`,insert:"/v1/Visits",update:"/v1/Visits",delete:s=>`/v1/Visits/${s}`};function d(s){var n;const{data:e,error:i,isLoading:t}=l(s?a.list(s):null,c,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{visits:e==null?void 0:e.data,visitsLoading:t,visitsError:i,visitsValidating:!i&&!e,visitsEmpty:!t&&!i&&((n=e==null?void 0:e.data)==null?void 0:n.length)===0}}function u(s){const{data:e,error:i,isLoading:t}=l(s?a.single(s):null,c,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{visit:e==null?void 0:e.data,visitLoading:t,visitError:i}}async function f(s){var e,i;try{const t=await o.post(a.insert,s);return s.idCompany&&r(a.list(s.idCompany)),r(a.key),t.data}catch(t){throw new Error(((i=(e=t.response)==null?void 0:e.data)==null?void 0:i.message)||"Error al crear la visita")}}async function p(s){var e,i;try{const t=await o.put(a.update,s);return s.idCompany&&r(a.list(s.idCompany)),r(a.key),r(a.single(s.id)),t.data}catch(t){throw new Error(((i=(e=t.response)==null?void 0:e.data)==null?void 0:i.message)||"Error al actualizar la visita")}}async function y(s,e){var i,t;try{const n=await o.delete(a.delete(s));return e&&r(a.list(e)),r(a.key),n.data}catch(n){throw new Error(((t=(i=n.response)==null?void 0:i.data)==null?void 0:t.message)||"Error al eliminar la visita")}}export{u as a,p as b,y as d,f as i,d as u};
