import{E as c,H as l,J as i,K as n}from"./index-DlGxA0AR.js";const t={key:"/v1/Users",list:"/v1/Users",single:e=>`/v1/Users/${e}`,insert:"/v1/Users",update:"/v1/Users",delete:e=>`/v1/Users/${e}`,changePassword:"/v1/Security/change-password",updateStatus:"/v1/Users/status"};function p(){const{data:e,error:s,isLoading:a}=c(t.list,l,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{users:(e==null?void 0:e.data)||[],usersLoading:a,usersError:s}}function f(e){const{data:s,error:a,isLoading:r}=c(e?t.single(e):null,l,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return{user:s==null?void 0:s.data,userLoading:r,userError:a}}async function w(e){var s,a;try{const r=await i.post(t.insert,e);return n(t.list),r.data}catch(r){throw new Error(((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al crear el usuario")}}async function g(e){var s,a;try{const r=await i.put(t.update,e);return n(t.list),n(t.single(e.id)),r.data}catch(r){throw new Error(((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al actualizar el usuario")}}async function h(e){var s,a;try{const r=await i.delete(t.delete(e));return n(t.list),r.data}catch(r){throw new Error(((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.message)||"Error al eliminar el usuario")}}async function y(e,s){var a,r;try{return(await i.post(t.changePassword,{username:e,password:s,authorizedToken:""})).data}catch(o){throw new Error(((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||"Error al cambiar la contraseÃ±a")}}async function v(e,s){var a,r;try{const o=await i.post(t.updateStatus,{userIds:Array.isArray(e)?e:[e],isActive:s});return n(t.list),Array.isArray(e)?e.forEach(u=>n(t.single(u))):n(t.single(e)),o.data}catch(o){throw new Error(((r=(a=o.response)==null?void 0:a.data)==null?void 0:r.message)||"Error al cambiar el estado del usuario")}}export{v as a,f as b,g as c,h as d,y as e,w as i,p as u};
